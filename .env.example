# CoinGlass 监控系统 - 环境配置模板
# 复制此文件为 .env 并根据需要修改配置

# =============================================================================
# 服务基础配置
# =============================================================================
PORT=3001
NODE_ENV=production
DATA_DIR=./data
LOGS_DIR=./logs

# =============================================================================
# Puppeteer 网页抓取配置
# =============================================================================
PUPPETEER_HEADLESS=true
PUPPETEER_TIMEOUT=60000
PUPPETEER_WINDOW_WIDTH=1920
PUPPETEER_WINDOW_HEIGHT=1080
PUPPETEER_PAGE_TIMEOUT=30000
PUPPETEER_NAVIGATION_TIMEOUT=60000
PUPPETEER_USER_AGENT=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36

# =============================================================================
# CoinGlass 网站配置
# =============================================================================
COINGLASS_BASE_URL=https://www.coinglass.com/zh/pro/i/MarginFeeChart
COINGLASS_WAIT_TIME_INITIAL=5000
COINGLASS_WAIT_TIME_EXCHANGE=3000
COINGLASS_WAIT_TIME_COIN=6000
COINGLASS_WAIT_TIME_DATA=3000
COINGLASS_WAIT_TIME_SCREENSHOT=2000
COINGLASS_WAIT_TIME_VERIFICATION=2000
COINGLASS_WAIT_TIME_METHOD=1000
COINGLASS_WAIT_TIME_RETRY=500
COINGLASS_WAIT_TIME_CLEAR=300
COINGLASS_WAIT_TIME_OPTION_SELECT=2500
COINGLASS_SCREENSHOT_DIR=./data/debug-screenshots
# 注意：Chrome 路径会自动检测，不支持手动配置
# 可执行文件路径：Windows/Mac/Linux 自动检测，失败时使用内置 Chromium

# =============================================================================
# EmailJS 邮件通知配置
# =============================================================================
# EmailJS 服务配置（访问 https://www.emailjs.com/ 获取）
EMAILJS_SERVICE_ID=service_njwa17p
EMAILJS_TEMPLATE_ID=template_2a6ntkh
EMAILJS_PUBLIC_KEY=R2I8depNfmvcV7eTz
EMAILJS_PRIVATE_KEY=your-emailjs-private-key
EMAILJS_API_URL=https://api.emailjs.com/api/v1.0/email/send
EMAILJS_TIMEOUT=10000

# =============================================================================
# 数据格式化配置
# =============================================================================
CURRENCY_DECIMAL_PLACES=2
RATE_DECIMAL_PLACES=4
PERCENTAGE_DECIMAL_PLACES=1

# =============================================================================
# 服务器配置
# =============================================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://127.0.0.1:3001
REQUEST_BODY_SIZE_LIMIT=10mb
SILENT_PATHS=/api/status/logs,/api/status,/api/config,/
LOG_REQUEST_ENABLED=true

# =============================================================================
# 日志管理配置
# =============================================================================
LOG_RETENTION_DAYS=7
LOG_MAX_LINES=1000
LOG_DEFAULT_DISPLAY_COUNT=50
LOG_AUTO_CLEANUP_ENABLED=true

# =============================================================================
# 数据清理配置
# =============================================================================
DATA_RETENTION_DAYS=7
DATA_AUTO_CLEANUP_ENABLED=true
DATA_MAX_FILES_PER_CLEANUP=1000
DETAILED_CLEANUP_LOGGING=false

# =============================================================================
# 数据清理统计配置
# =============================================================================
DETAILED_CLEANUP_REPORTING=true
SEPARATE_FILE_LOG_STATISTICS=true
SHOW_CLEANUP_SIZE_BREAKDOWN=true

# =============================================================================
# 数据清理配置
# =============================================================================
DATA_CLEANUP_ENABLED=true
DATA_CLEANUP_SCHEDULE=0 2 * * *
DATA_CLEANUP_TIME_DESCRIPTION=02:00

# =============================================================================
# 前端配置
# =============================================================================
FRONTEND_UPDATE_INTERVAL=30000
FRONTEND_API_REQUEST_TIMEOUT=10000
FRONTEND_LOG_REFRESH_INTERVAL=1000

# =============================================================================
# 监控服务配置
# =============================================================================
MONITORING_ENABLED_ON_START=false
MONITOR_RETRY_ATTEMPTS=3
MONITOR_RETRY_DELAY=5000
ALERT_COOLDOWN_MINUTES=180

# =============================================================================
# 监控调度配置
# =============================================================================
MONITORING_CRON_SCHEDULE=*/5 * * * *
MONITORING_TIMEZONE=Asia/Shanghai
MONITORING_AUTO_START=true
MONITORING_CHECK_INTERVAL_MINUTES=5

# =============================================================================
# 服务器启动配置
# =============================================================================
RUN_MONITORING_ON_START=false